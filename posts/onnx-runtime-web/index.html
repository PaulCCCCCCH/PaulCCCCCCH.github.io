<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="Recommendation System with Perfect Privacy - ONNX Runtime Web" /><meta name="author" content="Chonghan Chen" /><meta property="og:locale" content="en" /><meta name="description" content="Recommendation System with Perfect Privacy - ONNX Runtime Web" /><meta property="og:description" content="Recommendation System with Perfect Privacy - ONNX Runtime Web" /><link rel="canonical" href="https://paulcccccch.github.io/posts/onnx-runtime-web/" /><meta property="og:url" content="https://paulcccccch.github.io/posts/onnx-runtime-web/" /><meta property="og:site_name" content="Chonghan Chen" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-04-04T22:17:00-04:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Recommendation System with Perfect Privacy - ONNX Runtime Web" /><meta name="twitter:site" content="@paulcccccch" /><meta name="twitter:creator" content="@Chonghan Chen" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"Chonghan Chen"},"description":"Recommendation System with Perfect Privacy - ONNX Runtime Web","headline":"Recommendation System with Perfect Privacy - ONNX Runtime Web","dateModified":"2021-04-04T22:17:00-04:00","datePublished":"2021-04-04T22:17:00-04:00","url":"https://paulcccccch.github.io/posts/onnx-runtime-web/","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://paulcccccch.github.io/posts/onnx-runtime-web/"},"@context":"https://schema.org"}</script><title>Recommendation System with Perfect Privacy - ONNX Runtime Web | Chonghan Chen</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Chonghan Chen"><meta name="application-name" content="Chonghan Chen"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/avatar.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Chonghan Chen</a></div><div class="site-subtitle font-italic">Full-Stack Dev | Deep Learning </br> Student at CMU </br></div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/projects/" class="nav-link"> <i class="fa-fw fas fa-lightbulb ml-xl-3 mr-xl-3 unloaded"></i> <span>PROJECTS</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/paulcccccch" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/paulcccccch" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['chonghac','cs.cmu.edu'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Recommendation System with Perfect Privacy - ONNX Runtime Web</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Recommendation System with Perfect Privacy - ONNX Runtime Web</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Chonghan Chen </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sun, Apr 4, 2021, 10:17 PM -0400" >Apr 4, 2021<i class="unloaded">2021-04-04T22:17:00-04:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1326 words">7 min read</span></div></div><div class="post-content"><h1 id="recommendation-system-with-perfect-privacy---onnx-runtime-web">Recommendation System with Perfect Privacy - ONNX Runtime Web</h1><p>The source code of the demo project is available <a href="https://github.com/PaulCCCCCCH/onnx-recommender-demo">here</a>.</p><h2 id="prelude">Prelude</h2><p>Sometime ago, a friend of mine drove me to a party with his new car. During the ride, we discussed why he bought the car, how the automobile market was, etc. The next day, when I logged into social media, I was flooded with car advertisements. I was again impressed by the development of the eavesdropping network. I’m pretty sure we all have experienced this to some degree. Privacy violation has been a problem that is so serious and omniscient that most people would just accept it as if they are doomed, or act helplessly against the monopoly of big tech companies. From my point of view, the status quo can result from the companies’ deliberate ignorance of user’s privacy in exchange for profit, or the failure to implement the technology that can protect users’ privacy while still being able to optimize for users’ personal experience. With the assumption that the second one is true, we are going to explore some technicalities of making privacy-preserving AI recommendations in this post.</p><h2 id="the-problem-and-the-solution">The Problem and the Solution</h2><p>For the rest of the post, let’s use the movie streaming scenario as a concrete example. Suppose there is a company that provides movie streaming service (similar to Netflix). To better personalize users’ experience, they would like to implement a system that recommends movies to users on their homepage. To achieve this, they have to collect data from users. However, users might be very worried about this part: can the company guarantee that the data they collect is only used for making movie recommendations? Could it be the case that after watching a movie with a lot of driving scenes, you suddenly start getting advertisements on their social media accounts? No one knows. Once your data is handed over to the company, you simply lose control, despite all the fancy promises they could make. If you were the CTO of the company, and given that you did want to protect users’ privacy, how could you implement the system to eliminate users’ worries? You have to run your model with the user’s data no matter what. Well, the answer is simple: instead of having users handing in their data to you, you hand in your model to the users. In our case, you can have users run your recommendation model on their browser with the data that they have locally. This is easily done with ONNX.</p><h2 id="onnx-and-onnx-web-runtime">ONNX and ONNX Web Runtime</h2><p>ONNX stands for Open Neural Network Exchange. <a href="https://sanglee325.github.io/ml/onnx/#">A previous post</a> has covered what ONNX is, its strengths and weaknesses, with an example usage. To summarize, ONNX is a platform agnostic format for saving, loading and serving a model. It allows you to, let’s say, train a model with PyTorch, save it in ONNX format, then load and use it in Tensorflow, Keras, C++, Javascript, or any languages and frameworks that has ONNX interface. If we want to run an ONNX model on users’ browsers, we could use <a href="https://onnxruntime.ai/docs/tutorials/web/">ONNX Web Runtime</a>. It provides a set of Javascript APIs that allows you to easily load a model and use it to make predictions. We will demonstrate how it can be used within a demo project.</p><h2 id="develop-a-model">Develop a Model</h2><p>You may develop a model with your favorite language and framework. Be it PyTorch or Tensorflow, you are very likely to find ONNX support for that. In our demo project, we will be using <code class="language-plaintext highlighter-rouge">scikit-learn</code> and Python. We will create a simple linear regression model. Given a user and a movie, we will use this model to predict the rating the user would give to the movie. In this way, we can recommend movies that we think users will give the highest ratings to.</p><p>A simple model training pipeline is implemented in <code class="language-plaintext highlighter-rouge">models/get_regression_onnx_model.py</code>. The pipeline will initialize a model, load a fake training dataset, train the model, then save the model weight in ONNX format. You can run the pipeline with.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>cd models
python get_regression_onnx_model.py
</pre></table></code></div></div><p>When it’s done, you will see a model weight file in<code class="language-plaintext highlighter-rouge">./models/linear_reg_recommender.onnx</code>. The model will take 16 input features and predict a rating as a float number. Now that this part is ready, let’s try serving it to the users from their browsers. For this, we will set up a fake website which calls the model to make predictions.</p><h2 id="build-the-website">Build the Website</h2><p>We will create a <code class="language-plaintext highlighter-rouge">react</code> frontend project with <code class="language-plaintext highlighter-rouge">create-react-app</code> as follows:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>npx create-react-app onnx-recommender --template typescript
</pre></table></code></div></div><p>Then, install ONNX Web Runtime dependencies:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>npm install --save onnxruntime-web ndarray
</pre></table></code></div></div><p>To make development easier, we also install a popular UI library <code class="language-plaintext highlighter-rouge">antd</code></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>npm install --save antd
</pre></table></code></div></div><p>We will create a fake <code class="language-plaintext highlighter-rouge">Login</code> which handles user login logic (any password will be accepted) and a <code class="language-plaintext highlighter-rouge">Recommender</code> component that predicts the current user’s rating given a movie. The directory structure looks like</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Text "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre>src
└───Components
    └────Login
    	└───index.tsx
    └────Recommender
    	└───index.tsx
</pre></table></code></div></div><p>It’s worth mentioning that, in <code class="language-plaintext highlighter-rouge">Recommender</code>, we use the following variables to mimic the data needed to make the prediction. In a real production scenario, <code class="language-plaintext highlighter-rouge">localUserFeatureStore</code> will the (encrypted) data of the users that have logged in from the device. It will be stored on the device and will never be given to the company. This ensures perfect safety of user’s private information. On the other hand, <code class="language-plaintext highlighter-rouge">remoteMovieFeatureStore</code> is stored in the company’s database, and can be fetched by the user at any time.</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span text-data=" JavaScript "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">localUserFeatureStore</span><span class="p">:</span> <span class="p">{</span> <span class="p">[</span><span class="nx">key</span><span class="p">:</span> <span class="nx">string</span><span class="p">]:</span> <span class="nx">UserFeature</span> <span class="p">}</span> <span class="o">=</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">guest</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">age</span><span class="p">:</span> <span class="mi">35</span><span class="p">,</span>
        <span class="na">gender</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.3333333</span><span class="p">,</span> <span class="mf">0.3333333</span><span class="p">,</span> <span class="mf">0.3333333</span><span class="p">],</span>
        <span class="na">occupation</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">],</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">paulcccccch</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">age</span><span class="p">:</span> <span class="mi">24</span><span class="p">,</span>
        <span class="na">gender</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">],</span>
        <span class="na">occupation</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">],</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">nobita</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">age</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
        <span class="na">gender</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">],</span>
        <span class="na">occupation</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">],</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">remoteMovieFeatureStore</span><span class="p">:</span> <span class="p">{</span> <span class="p">[</span><span class="nx">key</span><span class="p">:</span> <span class="nx">string</span><span class="p">]:</span> <span class="nx">MovieFeature</span> <span class="p">}</span> <span class="o">=</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">Movie X</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">genre</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.12</span><span class="p">,</span> <span class="mf">0.23</span><span class="p">,</span> <span class="mf">0.34</span><span class="p">,</span> <span class="mf">0.45</span><span class="p">],</span>
        <span class="na">actors</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.45</span><span class="p">,</span> <span class="mf">0.34</span><span class="p">,</span> <span class="mf">0.23</span><span class="p">,</span> <span class="mf">0.12</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p>We can follow <a href="https://onnxruntime.ai/docs/tutorials/web/">this document</a> or <a href="https://github.com/microsoft/onnxruntime-web-demo">this example</a> to prepare the input and retrieve the model’s inference result. After you login successfully, you will be able to see a rating as below:</p><p><img data-proofer-ignore data-src="/assets/img/software-dev/prediction-page.png" alt="prediction-page" /></p><p>In real-world applications, the logic could be much more complicated than this. What we have done so far serves as a minimal workable component that can be extended to fit in different applications.</p><h2 id="discussion">Discussion</h2><p>Although serving models at the frontend allows companies to create a recommendation system that perfectly protects user’s privacy, it has quite a few drawbacks compared to traditional cloud-centric recommendation:</p><ul><li>Not all models support ONNX conversion out-of-box. For example, only the listed models of <code class="language-plaintext highlighter-rouge">scikit-learn</code> are supported (see <a href="https://onnx.ai/sklearn-onnx/supported.html">here</a>). If there is no ONNX support out there, you may have to create your own serializer for your model, which can be time consuming.<li>Models are now static files that can be cached at multiple places. When you try to update the model, you will have to invalidate the cache, which adds additional complexity to your pipeline.<li>Without users sending data to the server, it will be more difficult for the company to continuously improve their model.<li>Users will have to download the models from time to time when visiting the website, which can result in a lot of network traffic and disk usage.</ul><p>However, if a company really wants to protect user’s privacy, these issues are by no means unsolvable. For example, the models can be designed in a way that only a small portion of the weights need to be updated frequently. Also, the company could let users send back model weight updates, which allows the company to keep improving their model with users data while preserving users’ privacy.</p><h2 id="references">References</h2><ul><li><a href="https://heartbeat.comet.ml/building-an-image-recognition-app-using-onnx-js-c7147f4f291b">A website built with React and legacy ONNX.js</a><li><a href="https://github.com/microsoft/onnxruntime-web-demo">Official ONNX Runtime Web demo</a><li><a href="https://github.com/onnx/models">ONNX Model ZOO</a><li><a href="https://onnx.ai/sklearn-onnx/">Converting <code class="language-plaintext highlighter-rouge">scikit-learn</code> model to ONNX</a><li><a href="https://onnxruntime.ai/docs/tutorials/web/">ONNX Web Runtime doc</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/software-development/'>Software Development</a>, <a href='/categories/machine-learning/'>Machine Learning</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/notes/" class="post-tag no-text-decoration" >notes</a> <a href="/tags/experience/" class="post-tag no-text-decoration" >experience</a> <a href="/tags/tutorials/" class="post-tag no-text-decoration" >tutorials</a> <a href="/tags/software-engineering/" class="post-tag no-text-decoration" >software engineering</a> <a href="/tags/machine-learning/" class="post-tag no-text-decoration" >machine learning</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Recommendation System with Perfect Privacy - ONNX Runtime Web - Chonghan Chen&url=https://paulcccccch.github.io/posts/onnx-runtime-web/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Recommendation System with Perfect Privacy - ONNX Runtime Web - Chonghan Chen&u=https://paulcccccch.github.io/posts/onnx-runtime-web/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Recommendation System with Perfect Privacy - ONNX Runtime Web - Chonghan Chen&url=https://paulcccccch.github.io/posts/onnx-runtime-web/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/prelude/">Prelude</a><li><a href="/posts/backend-spring/">Backend Recipe for Beginners (Springboot + MyBatis)</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/notes/">notes</a> <a class="post-tag" href="/tags/english/">english</a> <a class="post-tag" href="/tags/machine-learning/">machine learning</a> <a class="post-tag" href="/tags/maths/">maths</a> <a class="post-tag" href="/tags/tutorials/">tutorials</a> <a class="post-tag" href="/tags/chinese/">chinese</a> <a class="post-tag" href="/tags/personal/">personal</a> <a class="post-tag" href="/tags/writing/">writing</a> <a class="post-tag" href="/tags/software-engineering/">software engineering</a> <a class="post-tag" href="/tags/creative/">creative</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/se-and-tools/"><div class="card-body"> <span class="timeago small" >Apr 14, 2021<i class="unloaded">2021-04-14T04:00:00-04:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>软件工程流程和心得</h3><div class="text-muted small"><p> I wrote this for the m5-201 course, which aims at preparing new programmers for real full-stack development and tech team leader roles. 引言 其实，一个软件从无到有的过程中，书写代码只占了一小部分而已。 与其它工程项目（比如造房子、发火箭、修铁路）一样...</p></div></div></a></div><div class="card"> <a href="/posts/backend-spring/"><div class="card-body"> <span class="timeago small" >May 12, 2021<i class="unloaded">2021-05-12T04:00:00-04:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Backend Recipe for Beginners (Springboot + MyBatis)</h3><div class="text-muted small"><p> I wrote this for the m5-201 course, which aims at preparing new programmers for real full-stack development and tech team leader roles. 后端开发规范 在开始着手做以下内容之前，请务必先把产品的逻辑梳理得井井有条。该用到 UML、该写文档的地方，绝对不要节省...</p></div></div></a></div><div class="card"> <a href="/posts/frontend-react-request-with-hooks/"><div class="card-body"> <span class="timeago small" >Jun 20, 2022<i class="unloaded">2022-06-20T14:00:00-04:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>On Encapsulating HTTP Requests with React Hooks</h3><div class="text-muted small"><p> Introduction The Position of Hooks in the Big Picture In my opinion, the key goal of Scaffolding in software engineering is to simplify two things: development and maintenance. A great way to ach...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/void-x/" class="btn btn-outline-primary" prompt="Older"><p>The Void</p></a> <a href="/posts/se-and-tools/" class="btn btn-outline-primary" prompt="Newer"><p>软件工程流程和心得</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://twitter.com/paulcccccch">Chonghan Chen</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >Some rights reserved.</span ></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a></p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/notes/">notes</a> <a class="post-tag" href="/tags/english/">english</a> <a class="post-tag" href="/tags/machine-learning/">machine learning</a> <a class="post-tag" href="/tags/maths/">maths</a> <a class="post-tag" href="/tags/tutorials/">tutorials</a> <a class="post-tag" href="/tags/chinese/">chinese</a> <a class="post-tag" href="/tags/personal/">personal</a> <a class="post-tag" href="/tags/writing/">writing</a> <a class="post-tag" href="/tags/software-engineering/">software engineering</a> <a class="post-tag" href="/tags/creative/">creative</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script> /* see: <https://docs.mathjax.org/en/latest/options/input/tex.html#tex-options> */ MathJax = { tex: { inlineMath: [ /* start/end delimiter pairs for in-line math */ ['$','$'], ['\\(','\\)'] ], displayMath: [ /* start/end delimiter pairs for display math */ ['$$', '$$'], ['\\[', '\\]'] ] } }; </script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"> </script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
